<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        table {
            border: 1px solid #c0c0c0;
            width: 500px;
            margin: 100px auto;
            text-align: center;
            border-spacing: 0;
            border-collapse: collapse;
        }

        th {
            background-color: #09c;
            font-weight: bold;
            font-size: 16px;
            font-family: "微软雅黑";
            height: 35px;
            color: #fff;
        }

        td {
            border: 1px solid #d0d0d0;
            padding: 10px;
            color: #404060;
        }
    </style>
</head>

<body>
    <table>
        <tr>
            <th>
                <input class="checkAll" type="checkbox" />
                全选
            </th>
            <th>商品</th>
            <th>商家</th>
            <th>价格</th>
        </tr>
        <tr>
            <td>
                <input class="cks" type="checkbox" />
            </td>
            <td>
                小米手机
            </td>
            <td>
                小米
            </td>
            <td>
                ￥1999
            </td>
        </tr>
        <tr>
            <td>
                <input class="cks" type="checkbox" />
            </td>
            <td>
                小米净水器
            </td>
            <td>
                小米
            </td>
            <td>
                ￥4999
            </td>
        </tr>
        <tr>
            <td>
                <input class="cks" type="checkbox" />
            </td>
            <td>
                小米电视
            </td>
            <td>
                小米
            </td>
            <td>
                ￥5999
            </td>
        </tr>
    </table>
</body>

</html>
<script>

    // 1. 获取全选的复选框
    const checkAll = document.querySelector('.checkAll')

    // 4. 获取所有的复选框
    const cks = document.querySelectorAll('.cks')

    // 2. 绑定事件
    checkAll.addEventListener("change", function (event) {

        //3. 获取全选按钮的状态
        const checkStatus = this.checked

        // 6. 遍历所有的复选框,并设置它的选中状态为 全选的复选框的选中状态 
        cks.forEach(item => item.checked = checkStatus)
    })



    // 1. 遍历所有的复选框, 并添加事件
    cks.forEach(element => {
        element.addEventListener("change", function () {
            // alert("123")

            // 2. 当点击复选框的时候, 遍历所有的复选框, 查看是否全部选中, 如果全部选中,则返回true 否则返回false
            const status = Array.from(cks).every(item => item.checked === true)
            console.log(status)
            checkAll.checked = status
        })
    })
</script>